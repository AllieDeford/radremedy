!function(e,n){e.Remedy=e.Remedy||{},e.Remedy.hideControlGroup=function(e){n(function(){n("#"+e).parentsUntil("div.control-group").parent().hide()})},e.Remedy.makeSelect2=function(e){n(function(){var t=n("#"+e),a=t.val();t.select2({width:"element"}).val(a)})},e.Remedy.showProviderMap=function(e,t){return t.length?(n(function(){var a=new google.maps.Map(document.getElementById(e)),o=new google.maps.LatLngBounds;for(i=0;i<t.length;i+=1){var r=t[i],l=new google.maps.Marker({map:a,title:r.name,position:new google.maps.LatLng(r.latitude,r.longitude)}),s=n("<div />");n("<a href='"+r.url+"' target='_blank'><strong>"+r.name+"</strong></a><br />").appendTo(s),n("<addr><small>"+r.address+"</small></addr><br />").appendTo(s),n("<span />").html(r.desc).appendTo(s);var d=new google.maps.InfoWindow({content:s.html(),maxWidth:320});google.maps.event.addListener(l,"click",function(){d.open(a,l)}),o.extend(l.position)}a.fitBounds(o)}),!0):(n(function(){n("#"+e).parent().hide()}),!1)};var t=function(e){if(!e||!e.length)return"";for(var t=0;t<e.length;t+=1){var a=e[t];if(n.inArray(a,["locality","administrative_area_level_2","administrative_area_level_1"])>=0)return a}return""},a=function(e){var a="",o="",r="";if(!e||!e.address_components||!e.address_components.length)return"";for(var i=0;i<e.address_components.length;i+=1){var l=e.address_components[i],s="",d="";if(s=n.trim(l.short_name)||n.trim(l.long_name),!s)return"";switch(d=t(l.types)){case"locality":a=a||s;break;case"administrative_area_level_2":o=o||s;break;case"administrative_area_level_1":r=r||s}}return location_str=a||o||"",r&&(location_str&&(location_str+=", "),location_str+=r),location_str};e.Remedy.initMapsAutocomplete=function(e,t,o,r,i){var l=n("#"+o),s=n("#"+r),d=n(),c=[];i&&(d=n("#"+i)),c=e?["address"]:["(regions)"],n(function(){var e=new google.maps.places.Autocomplete(document.getElementById(t),{types:c});google.maps.event.addListener(e,"place_changed",function(){var n=e.getPlace();n&&n.geometry&&n.geometry.location?(l.val(n.geometry.location.lat().toFixed(5)),s.val(n.geometry.location.lng().toFixed(5)),d.length>0&&d.val(a(n))):(l.val(""),s.val(""),d.val(""))}),n("#"+t).change(function(){n.trim(n(this).val())||(l.val(""),s.val(""),d.val(""))})})}}(window,jQuery);