!function(e,n){"use strict";e.Remedy=e.Remedy||{},e.Remedy.hideControlGroup=function(e){n(function(){n("#"+e).parentsUntil("div.control-group").parent().hide()})},e.Remedy.makeSelect2=function(e){n(function(){var t=n("#"+e),a=t.val();t.select2({width:"element"}).val(a)})};var t=function(e){var n=Math.max(320,Math.min(e.parent().width(),800));e.width(n),e.height(n)};e.Remedy.showProviderMap=function(e,a){return a.length?(n(function(){var o=n("#"+e);t(o);var r,i,l,s=new google.maps.Map(document.getElementById(e)),d=new google.maps.LatLngBounds;for(l=0;l<a.length;l+=1){var m=a[l];r=new google.maps.Marker({map:s,title:m.name,position:new google.maps.LatLng(m.latitude,m.longitude)});var g=n("<div />");n("<a href='"+m.url+"' target='_blank'><strong>"+m.name+"</strong></a><br />").appendTo(g),n("<addr><small>"+m.address+"</small></addr><br />").appendTo(g),n("<span />").html(m.desc).appendTo(g),i=new google.maps.InfoWindow({content:g.html(),maxWidth:320}),google.maps.event.addListener(r,"click",function(e,n){return function(){n.open(s,e)}}(r,i)),d.extend(r.position)}s.fitBounds(d),google.maps.event.addDomListener(window,"resize",function(){t(o);var e=s.getCenter();google.maps.event.trigger(s,"resize"),s.setCenter(e)})}),!0):(n(function(){n("#"+e).parent().hide()}),!1)};var a=function(e){if(!e||!e.length)return"";for(var t=0;t<e.length;t+=1){var a=e[t];if(n.inArray(a,["locality","administrative_area_level_2","administrative_area_level_1"])>=0)return a}return""},o=function(e){var t="",o="",r="";if(!e||!e.address_components||!e.address_components.length)return"";for(var i=0;i<e.address_components.length;i+=1){var l=e.address_components[i],s="",d="";if(s=n.trim(l.short_name)||n.trim(l.long_name),!s)return"";switch(d=a(l.types)){case"locality":s=n.trim(l.long_name)||s,t=t||s;break;case"administrative_area_level_2":o=o||s;break;case"administrative_area_level_1":r=r||s}}var m=t||o||"";return r&&(m&&(m+=", "),m+=r),m};e.Remedy.initMapsAutocomplete=function(e,t,a,r,i){var l=n("#"+a),s=n("#"+r),d=n(),m=[];i&&(d=n("#"+i)),m=e?["address"]:["(regions)"],n(function(){var e=new google.maps.places.Autocomplete(document.getElementById(t),{types:m});google.maps.event.addListener(e,"place_changed",function(){var n=e.getPlace();n&&n.geometry&&n.geometry.location?(l.val(n.geometry.location.lat().toFixed(5)),s.val(n.geometry.location.lng().toFixed(5)),d.length>0&&d.val(o(n))):(l.val(""),s.val(""),d.val(""))}),n("#"+t).change(function(){n.trim(n(this).val())||(l.val(""),s.val(""),d.val(""))})})}}(window,jQuery);