!function(e,n){"use strict";e.Remedy=e.Remedy||{},e.Remedy.hideControlGroup=function(e){n(function(){n("#"+e).parentsUntil("div.control-group").parent().hide()})},e.Remedy.makeSelect2=function(e){n(function(){var t=n("#"+e),a=t.val();t.select2({width:"element"}).val(a)})},e.Remedy.showProviderMap=function(e,t){return t.length?(n(function(){for(var a=new google.maps.Map(document.getElementById(e)),o=new google.maps.LatLngBounds,r=0;r<t.length;r+=1){var i=t[r],l=new google.maps.Marker({map:a,title:i.name,position:new google.maps.LatLng(i.latitude,i.longitude)}),d=n("<div />");n("<a href='"+i.url+"' target='_blank'><strong>"+i.name+"</strong></a><br />").appendTo(d),n("<addr><small>"+i.address+"</small></addr><br />").appendTo(d),n("<span />").html(i.desc).appendTo(d);var s=new google.maps.InfoWindow({content:d.html(),maxWidth:320});google.maps.event.addListener(l,"click",function(){s.open(a,l)}),o.extend(l.position)}a.fitBounds(o)}),!0):(n(function(){n("#"+e).parent().hide()}),!1)};var t=function(e){if(!e||!e.length)return"";for(var t=0;t<e.length;t+=1){var a=e[t];if(n.inArray(a,["locality","administrative_area_level_2","administrative_area_level_1"])>=0)return a}return""},a=function(e){var a="",o="",r="";if(!e||!e.address_components||!e.address_components.length)return"";for(var i=0;i<e.address_components.length;i+=1){var l=e.address_components[i],d="",s="";if(d=n.trim(l.short_name)||n.trim(l.long_name),!d)return"";switch(s=t(l.types)){case"locality":d=n.trim(l.long_name)||d,a=a||d;break;case"administrative_area_level_2":o=o||d;break;case"administrative_area_level_1":r=r||d}}var m=a||o||"";return r&&(m&&(m+=", "),m+=r),m};e.Remedy.initMapsAutocomplete=function(e,t,o,r,i){var l=n("#"+o),d=n("#"+r),s=n(),m=[];i&&(s=n("#"+i)),m=e?["address"]:["(regions)"],n(function(){var e=new google.maps.places.Autocomplete(document.getElementById(t),{types:m});google.maps.event.addListener(e,"place_changed",function(){var n=e.getPlace();n&&n.geometry&&n.geometry.location?(l.val(n.geometry.location.lat().toFixed(5)),d.val(n.geometry.location.lng().toFixed(5)),s.length>0&&s.val(a(n))):(l.val(""),d.val(""),s.val(""))}),n("#"+t).change(function(){n.trim(n(this).val())||(l.val(""),d.val(""),s.val(""))})})}}(window,jQuery);